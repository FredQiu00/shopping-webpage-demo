{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\nconst UserLogin = () => {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n  const handleLogin = e => {\n    e.preventDefault();\n    if (username && password) {\n      fetch('http://localhost:8000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      }).then(response => response.json().then(data => ({\n        status: response.status,\n        body: data\n      }))).then(data => {\n        if (data.status === 200) {\n          navigate('/admin');\n        } else {\n          setUsername('');\n          setPassword('');\n          alert(data.body.error || \"Username or password is incorrect.\");\n        }\n      }).catch(() => {\n        setUsername('');\n        setPassword('');\n        alert('Failed to authenticate.');\n      });\n    } else {\n      setUsername('');\n      setPassword('');\n      alert(\"At least one field (username or password) is missing.\");\n    }\n  };\n  const handleSignUp = e => {\n    e.preventDefault();\n    if (username && password && email && phone) {\n      fetch('http://localhost:8000/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          password,\n          email,\n          phone\n        })\n      }).then(response => response.json().then(data => ({\n        status: response.status,\n        body: data\n      }))).then(data => {\n        if (data.status === 200) {\n          navigate('/');\n        } else {\n          setUsername('');\n          setPassword('');\n          alert(data.body.error || \"Username or password is incorrect.\");\n        }\n      }).catch(() => {\n        setUsername('');\n        setPassword('');\n        alert('Failed to authenticate.');\n      });\n    } else {\n      setUsername('');\n      setPassword('');\n      alert(\"At least one field (username or password) is missing.\");\n    }\n  };\n};\n_s(UserLogin, \"0l/1lbHIRM3npNU1IncVTvHWMGE=\", false, function () {\n  return [useNavigate];\n});\n_c = UserLogin;\nexport default UserLogin;\nvar _c;\n$RefreshReg$(_c, \"UserLogin\");","map":{"version":3,"names":["React","useState","Button","useNavigate","UserLogin","_s","navigate","username","setUsername","password","setPassword","email","setEmail","phone","setPhone","handleLogin","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","data","status","alert","error","catch","handleSignUp","_c","$RefreshReg$"],"sources":["/Users/tianhonggao/Desktop/sample-react/webpage/src/Components/UserLogin.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useNavigate } from 'react-router-dom';\n\nconst UserLogin = () => {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [phone, setPhone] = useState('');\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n\n    if (username && password) {\n      fetch('http://localhost:8000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password }),\n      })\n        .then(response => response.json().then(data => ({ status: response.status, body: data })))\n        .then(data => {\n          if (data.status === 200) {\n            navigate('/admin');\n          } else {\n            setUsername('');\n            setPassword('');\n            alert(data.body.error || \"Username or password is incorrect.\");\n          }\n        })\n        .catch(() => {\n          setUsername('');\n          setPassword('');\n          alert('Failed to authenticate.');\n        });\n    } else {\n      setUsername('');\n      setPassword('');\n      alert(\"At least one field (username or password) is missing.\");\n    }\n  };\n\n  const handleSignUp = (e) => {\n    e.preventDefault();\n    if (username && password && email && phone) {\n      fetch('http://localhost:8000/api/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, password, email, phone }),\n      })\n        .then(response => response.json().then(data => ({ status: response.status, body: data })))\n        .then(data => {\n          if (data.status === 200) {\n            navigate('/');\n          } else {\n            setUsername('');\n            setPassword('');\n            alert(data.body.error || \"Username or password is incorrect.\");\n          }\n        })\n        .catch(() => {\n          setUsername('');\n          setPassword('');\n          alert('Failed to authenticate.');\n        });\n    } else {\n      setUsername('');\n      setPassword('');\n      alert(\"At least one field (username or password) is missing.\");\n    }\n  };\n\n\n};\n\nexport default UserLogin;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}