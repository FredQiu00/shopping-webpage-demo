{"ast":null,"code":"var _jsxFileName = \"/Users/tianhonggao/Desktop/sample-react/webpage/src/Admin/Statistic.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Stat = () => {\n  _s();\n  const [sortedProducts, setSortedProducts] = useState([]);\n  const fetchProductStats = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/api/productStats');\n      const data = await response.json();\n      sortProductsByPopularity(data);\n    } catch (error) {\n      console.error('Failed to fetch product stats:', error);\n    }\n  };\n  const sortProductsByPopularity = stats => {\n    const sorted = [...stats].sort((a, b) => b.popularity - a.popularity);\n    setSortedProducts(sorted);\n  };\n  useEffect(() => {\n    fetchProductStats();\n  }, [fetchProductStats]);\n  const handleCheckout = async () => {\n    try {\n      // Handle the checkout process and update the statistics accordingly\n      // Make the necessary API calls to update the product stats on the server\n\n      // Fetch the updated product stats\n      await fetchProductStats();\n    } catch (error) {\n      console.error('Failed to update product stats:', error);\n    }\n  };\n  const chartData = {\n    labels: sortedProducts.map(product => product.name),\n    datasets: [{\n      label: 'Popularity',\n      data: sortedProducts.map(product => product.popularity),\n      backgroundColor: 'rgba(75, 192, 192, 0.6)',\n      borderColor: 'rgba(75, 192, 192, 1)',\n      borderWidth: 1\n    }]\n  };\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      y: {\n        beginAtZero: true,\n        max: 100\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Product Statistics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Popularity Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        data: chartData,\n        options: chartOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sorted Products by Popularity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: sortedProducts.map(product => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [product.name, \" - Popularity: \", product.popularity]\n        }, product.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCheckout,\n      children: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(Stat, \"UdQrza7g2PIrNjp507pSO3m//Rg=\");\n_c = Stat;\nexport default Stat;\nvar _c;\n$RefreshReg$(_c, \"Stat\");","map":{"version":3,"names":["React","useEffect","useState","Bar","jsxDEV","_jsxDEV","Stat","_s","sortedProducts","setSortedProducts","fetchProductStats","response","fetch","data","json","sortProductsByPopularity","error","console","stats","sorted","sort","a","b","popularity","handleCheckout","chartData","labels","map","product","name","datasets","label","backgroundColor","borderColor","borderWidth","chartOptions","responsive","maintainAspectRatio","scales","y","beginAtZero","max","children","fileName","_jsxFileName","lineNumber","columnNumber","options","id","onClick","_c","$RefreshReg$"],"sources":["/Users/tianhonggao/Desktop/sample-react/webpage/src/Admin/Statistic.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Bar } from 'react-chartjs-2';\n\nconst Stat = () => {\n  const [sortedProducts, setSortedProducts] = useState([]);\n\n  const fetchProductStats = async () => {\n    try {\n      const response = await fetch('http://localhost:8000/api/productStats');\n      const data = await response.json();\n      sortProductsByPopularity(data);\n    } catch (error) {\n      console.error('Failed to fetch product stats:', error);\n    }\n  };\n\n  const sortProductsByPopularity = (stats) => {\n    const sorted = [...stats].sort((a, b) => b.popularity - a.popularity);\n    setSortedProducts(sorted);\n  };\n\n  useEffect(() => {\n    fetchProductStats();\n  }, [fetchProductStats]);\n\n  const handleCheckout = async () => {\n    try {\n      // Handle the checkout process and update the statistics accordingly\n      // Make the necessary API calls to update the product stats on the server\n\n      // Fetch the updated product stats\n      await fetchProductStats();\n    } catch (error) {\n      console.error('Failed to update product stats:', error);\n    }\n  };\n\n  const chartData = {\n    labels: sortedProducts.map((product) => product.name),\n    datasets: [\n      {\n        label: 'Popularity',\n        data: sortedProducts.map((product) => product.popularity),\n        backgroundColor: 'rgba(75, 192, 192, 0.6)',\n        borderColor: 'rgba(75, 192, 192, 1)',\n        borderWidth: 1,\n      },\n    ],\n  };\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: false,\n    scales: {\n      y: {\n        beginAtZero: true,\n        max: 100,\n      },\n    },\n  };\n\n  return (\n    <div>\n      <h2>Product Statistics</h2>\n      <div>\n        <h3>Popularity Chart</h3>\n        <Bar data={chartData} options={chartOptions} />\n      </div>\n      <div>\n        <h3>Sorted Products by Popularity</h3>\n        <ul>\n          {sortedProducts.map((product) => (\n            <li key={product.id}>\n              {product.name} - Popularity: {product.popularity}\n            </li>\n          ))}\n        </ul>\n      </div>\n      <button onClick={handleCheckout}>Checkout</button>\n    </div>\n  );\n};\n\nexport default Stat;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}